<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>I18n Babel</title>

    <script type="module" src="/build/data-i18n.esm.js"></script>
    <script nomodule src="/build/data-i18n.js"></script>
</head>

<body>
    <p><i18n-t id="i18n">Translate me!</i18n-t></p>
    <p><i18n-t id="i18n-with-data" data-i18n='{ "count": 0 }' onclick="changeCounter()">Click me to update counter: (% count %)</i18n-t></p>
    <p><i18n-t id="i18n-subtree" onclick="changeSubtree()">Click me to update subtree: <strong id="subtree">subtree</strong></i18n-t></p>
    <script>
        document.addEventListener('i18n-translator-ready', () => {
            Translator.init({ isShowMissing: true });
        });

        const i18n = document.getElementById('i18n-with-data');
        
        let clicks = 0;
        function changeCounter() {
            clicks += 1;
            i18n.setAttribute('data-i18n',`{ "count": ${clicks} }`);
        }
        
        function changeSubtree() {
            const subtree = document.getElementById('subtree');
            clicks += 1;
            subtree.innerHTML = `clicks: ${clicks}`;
        }
        </script>
</body>

</html>